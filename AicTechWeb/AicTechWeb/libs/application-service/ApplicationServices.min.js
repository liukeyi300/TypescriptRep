var ApplicationServices;(function(b){var a=(function(){function c(){}c.createDeferred=function(){return $.Deferred()};c.createPromise=function(e){var f=c.createDeferred();f.resolve(e);return f.promise()};c.when=function(){var d=[];for(var e=0;e<arguments.length;e++){d[e-0]=arguments[e]}return jQuery.when.apply(null,d)};return c})();b.AsyncUtils=a})(ApplicationServices||(ApplicationServices={}));var ApplicationServices;(function(b){var a=(function(){function c(d,e){if(e===void 0){e=0}if(d&&d.length>0&&d.charAt(d.length-1)=="/"){d=d.substr(0,d.length-1)}this.m_url=d;this.m_operationTimeout=e}Object.defineProperty(c.prototype,"serverUrl",{get:function(){return this.m_url},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"operationTimeout",{get:function(){return this.m_operationTimeout},set:function(d){this.m_operationTimeout=d},enumerable:true,configurable:true});c.prototype.sendRequestAsync=function(h,f){var i=this;var d=b.AsyncUtils.createDeferred();var e=this.openXHR(h,true);var g=null;if(f!=null&&typeof(f)!="undefined"){g=JSON.stringify(f)}e.onreadystatechange=function(k){if(e.readyState==XMLHttpRequest.DONE){try{if(e.status>=200&&e.status<300){if(e.responseText){var j=JSON.parse(e.responseText);if(j!=null&&typeof(j)=="object"){var m=(j);if(m.hasOwnProperty("d")){j=m.d}}d.resolve(j)}else{d.resolve(null)}}else{var n=e.statusText||"";n+=" status:"+e.status+",serverUrl:"+i.serverUrl;throw new Error(n)}}catch(l){d.reject(l)}}};e.send(g);return d.promise()};c.prototype.openXHR=function(f,e){var d=new XMLHttpRequest();d.open("POST",this.serverUrl+"/"+f,e);d.withCredentials=true;d.setRequestHeader("Content-Type","application/json; charset=utf-8");if(e&&this.operationTimeout>0){d.timeout=this.operationTimeout}return d};return c})();b.JsonServiceClientBase=a})(ApplicationServices||(ApplicationServices={}));var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var ApplicationServices;(function(b){var a=(function(d){__extends(c,d);function c(e,f){if(f===void 0){f=0}d.call(this,e,f)}c.prototype.validateUserAsync=function(g,f,e){return this.sendRequestAsync("ValidateUser",{username:g,password:f,customCredential:e}).then(function(h){if(typeof(h)=="boolean"){return(h)}else{return false}})};c.prototype.loginAsync=function(h,f,e,g){return this.sendRequestAsync("Login",{username:h,password:f,customCredential:e,isPersistent:g}).then(function(i){if(typeof(i)=="boolean"){return(i)}else{return false}})};c.prototype.isLoggedInAsync=function(){return this.sendRequestAsync("IsLoggedIn",null).then(function(e){if(typeof(e)=="boolean"){return(e)}else{return false}})};c.prototype.logoutAsync=function(){return this.sendRequestAsync("Logout",null)};return c})(b.JsonServiceClientBase);b.AuthenticationServiceClient=a})(ApplicationServices||(ApplicationServices={}));var ApplicationServices;(function(c){(function(d){d[d.Success=0]="Success";d[d.InvalidUserName=1]="InvalidUserName";d[d.InvalidPassword=2]="InvalidPassword";d[d.InvalidQuestion=3]="InvalidQuestion";d[d.InvalidAnswer=4]="InvalidAnswer";d[d.InvalidEmail=5]="InvalidEmail";d[d.DuplicateUserName=6]="DuplicateUserName";d[d.DuplicateEmail=7]="DuplicateEmail";d[d.UserRejected=8]="UserRejected";d[d.InvalidProviderUserKey=9]="InvalidProviderUserKey";d[d.DuplicateProviderUserKey=10]="DuplicateProviderUserKey";d[d.ProviderError=11]="ProviderError"})(c.UserCreateStatus||(c.UserCreateStatus={}));var a=c.UserCreateStatus;var b=(function(d){__extends(e,d);function e(f,g){if(g===void 0){g=0}d.call(this,f,g)}e.prototype.createUserAsync=function(h,g,f,i){return this.sendRequestAsync("CreateUser",{userName:h,password:g,email:f,comment:i}).then(function(j){if(typeof(j)=="number"){return(j)}else{return a.ProviderError}})};e.prototype.deleteUserAsync=function(f,g){return this.sendRequestAsync("DeleteUser",{userName:f,deleteAllRelatedData:g}).then(function(h){if(typeof(h)=="boolean"){return(h)}else{return false}})};e.prototype.updateUserAsync=function(h,f,i,g){return this.sendRequestAsync("UpdateUser",{userName:h,email:f,comment:i,isApproved:g})};e.prototype.unlockUserAsync=function(f){return this.sendRequestAsync("UnlockUser",{userName:f})};e.prototype.getAllUsersAsync=function(){return this.sendRequestAsync("GetAllUsers",null).then(function(f){if(Array.isArray(f)){return(f)}else{return null}})};e.prototype.getAllUserNamesAsync=function(){return this.sendRequestAsync("GetAllUserNames",null).then(function(f){if(Array.isArray(f)){return(f)}else{return null}})};e.prototype.findUserByNameAsync=function(f){return this.sendRequestAsync("FindUserByName",{userName:f}).then(function(g){if(Array.isArray(g)){return(g)}else{return null}})};e.prototype.getUserAsync=function(f){return this.sendRequestAsync("GetUser",{userName:f}).then(function(g){if(g!=null&&typeof(g)=="object"){return(g)}else{return null}})};e.prototype.userExistsAsync=function(f){return this.sendRequestAsync("UserExists",{userName:f}).then(function(g){if(typeof(g)=="boolean"){return(g)}else{return false}})};e.prototype.resetPasswordAsync=function(f){return this.sendRequestAsync("ResetPassword",{userName:f}).then(function(g){if(typeof(g)=="string"){return(g)}else{return null}})};e.prototype.changePasswordAsync=function(f,g,h){return this.sendRequestAsync("ChangePassword",{userName:f,oldPassword:g,newPassword:h}).then(function(i){if(typeof(i)=="boolean"){return(i)}else{return false}})};e.prototype.createRoleAsync=function(f){return this.sendRequestAsync("CreateRole",{roleName:f})};e.prototype.deleteRoleAsync=function(f,g){return this.sendRequestAsync("DeleteRole",{roleName:f,throwOnPopulatedRole:g}).then(function(h){if(typeof(h)=="boolean"){return(h)}else{return false}})};e.prototype.getRolesForUserAsync=function(f){return this.sendRequestAsync("GetRolesForUser",{username:f}).then(function(g){if(Array.isArray(g)){return(g)}else{return null}})};e.prototype.getUsersInRoleAsync=function(f){return this.sendRequestAsync("GetUsersInRole",{roleName:f}).then(function(g){if(Array.isArray(g)){return(g)}else{return null}})};e.prototype.getAllRolesAsync=function(){return this.sendRequestAsync("GetAllRoles",null).then(function(f){if(Array.isArray(f)){return(f)}else{return null}})};e.prototype.isUserInRoleAsync=function(g,f){return this.sendRequestAsync("IsUserInRole",{username:g,roleName:f}).then(function(h){if(typeof(h)=="boolean"){return(h)}else{return false}})};e.prototype.addUserToRoleAsync=function(g,f){return this.sendRequestAsync("AddUserToRole",{username:g,roleName:f})};e.prototype.addUsersToRoleAsync=function(g,f){return this.sendRequestAsync("AddUsersToRole",{usernames:g,roleName:f})};e.prototype.addUserToRolesAsync=function(g,f){return this.sendRequestAsync("AddUserToRoles",{username:g,roleNames:f})};e.prototype.addUsersToRolesAsync=function(g,f){return this.sendRequestAsync("AddUsersToRoles",{usernames:g,roleNames:f})};e.prototype.removeUserFromRoleAsync=function(g,f){return this.sendRequestAsync("RemoveUserFromRole",{username:g,roleName:f})};e.prototype.removeUserFromRolesAsync=function(g,f){return this.sendRequestAsync("RemoveUserFromRoles",{username:g,roleNames:f})};e.prototype.removeUsersFromRoleAsync=function(g,f){return this.sendRequestAsync("RemoveUsersFromRole",{usernames:g,roleName:f})};e.prototype.removeUsersFromRolesAsync=function(g,f){return this.sendRequestAsync("RemoveUsersFromRoles",{usernames:g,roleNames:f})};e.prototype.roleExistsAsync=function(f){return this.sendRequestAsync("RoleExists",{roleName:f}).then(function(g){if(typeof(g)=="boolean"){return(g)}else{return false}})};e.prototype.getAdministratorRoleNameAsync=function(){return this.sendRequestAsync("GetAdministratorRoleName",null).then(function(f){if(typeof(f)=="string"){return(f)}else{return null}})};e.prototype.addPermissionsToRolesAsync=function(g,f){return this.sendRequestAsync("AddPermissionsToRoles",{permissionNames:g,roleNames:f})};e.prototype.removePermissionsFromRolesAsync=function(g,f){return this.sendRequestAsync("RemovePermissionsFromRoles",{permissionNames:g,roleNames:f})};e.prototype.createPermissionAsync=function(f){return this.sendRequestAsync("CreatePermission",{permissionName:f})};e.prototype.deletePermissionAsync=function(f){return this.sendRequestAsync("DeletePermission",{permissionName:f}).then(function(g){if(typeof(g)=="boolean"){return(g)}else{return false}})};e.prototype.getAllPermissionsAsync=function(){return this.sendRequestAsync("GetAllPermissions",null).then(function(f){if(Array.isArray(f)){return(f)}else{return null}})};e.prototype.permissionExistsAsync=function(f){return this.sendRequestAsync("PermissionExists",{permissionName:f}).then(function(g){if(typeof(g)=="boolean"){return(g)}else{return false}})};e.prototype.isPermissionInRoleAsync=function(g,f){return this.sendRequestAsync("IsPermissionInRole",{permissionName:g,roleName:f}).then(function(h){if(typeof(h)=="boolean"){return(h)}else{return false}})};e.prototype.getPermissionsInRoleAsync=function(f){return this.sendRequestAsync("GetPermissionsInRole",{roleName:f}).then(function(g){if(Array.isArray(g)){return(g)}else{return null}})};e.prototype.getRolesForPermissionAsync=function(f){return this.sendRequestAsync("GetRolesForPermission",{permissionName:f}).then(function(g){if(Array.isArray(g)){return(g)}else{return null}})};e.prototype.hasUserPermissionAsync=function(h,f,g){return this.sendRequestAsync("HasUserPermission",{userName:h,permissionName:f,grantNonRolesPermission:g}).then(function(i){if(typeof(i)=="boolean"){return(i)}else{return false}})};e.prototype.checkUserPermissionsAsync=function(h,f,g){return this.sendRequestAsync("CheckUserPermissions",{userName:h,permissionNames:f,grantNonRolesPermission:g}).then(function(i){if(Array.isArray(i)){return(i)}else{return null}})};e.prototype.isNoRolesPermissionAsync=function(f,g){return this.sendRequestAsync("IsNoRolesPermission",{permissionName:f,checkPermissionExistence:g}).then(function(h){if(typeof(h)=="boolean"){return(h)}else{return false}})};return e})(c.JsonServiceClientBase);c.CredentialServiceClient=b})(ApplicationServices||(ApplicationServices={}));var ApplicationServices;(function(b){var a=(function(d){__extends(c,d);function c(e,f){if(f===void 0){f=0}d.call(this,e,f)}c.prototype.isCurrentUserInRoleAsync=function(e){return this.sendRequestAsync("IsCurrentUserInRole",{role:e}).then(function(f){if(typeof(f)=="boolean"){return(f)}else{return false}})};c.prototype.getRolesForCurrentUserAsync=function(){return this.sendRequestAsync("GetRolesForCurrentUser",null).then(function(e){if(Array.isArray(e)){return(e)}else{return null}})};return c})(b.JsonServiceClientBase);b.RoleServiceClient=a})(ApplicationServices||(ApplicationServices={}));